<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
    <div id="container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
        <p id="message">Click a button to play rock, paper, scissors.</p>
        <p id="score"></p>
    </div>



  <script>
        let playerScore = 0;
        let computerScore = 0;
        
        // get message
        const message = document.querySelector('#message');

        // make score section
        const score = document.querySelector('#score');
        
        // buttons is a node list. It looks and acts much like an array.
        const buttons = document.querySelectorAll('button');

        // we use the .forEach method to iterate through each button
        buttons.forEach((button) => {

            // and for each one we add a 'click' listener
            button.addEventListener('click', () => {
                let computerSelection = computerPlay();
                let winner = playRound(button.id, computerSelection);
                message.textContent = "You chose " + button.id + ". The computer chose " + computerSelection + ". " + winner + " won.";
                if (winner === "You") {
                    playerScore = playerScore + 1;
                } else if (winner == "Computer") {
                    computerScore = computerScore +1;
                };
                score.textContent = "You: " + playerScore + " | Computer: " + computerScore;
            });
        });


      // let the computer pick
      function computerPlay() {
          const OPTIONS = [
              "rock",
              "paper",
              "scissors"
          ];
          return OPTIONS[Math.floor(Math.random() * OPTIONS.length)];
      }

      // play a round. player wins = 1, computer wins = -1, tie = 0
      function playRound(playerSelection, computerSelection) {
          if (playerSelection === "rock") {
              switch (computerSelection) {
                    case "rock":
                        console.log("Tie game.");
                        return "No one";
                    case "paper":
                        console.log("You lose.");
                        return "Computer";
                    case "scissors":
                        console.log("You win!");
                        return "You";
              }

          } else if (playerSelection === "paper") {
              switch (computerSelection) {
                    case "rock":
                        console.log("You win!");
                        return "You";
                    case "paper":
                        console.log("Tie game.");
                        return "No one";
                    case "scissors":
                        console.log("You lose.");
                        return "Computer";
              }

          } else {
              switch (computerSelection) {
                    case "rock":
                        console.log("You lose.");
                        return "Computer";
                    case "paper":
                        console.log("You win!");
                        return "You";
                    case "scissors":
                        console.log("Tie game.");
                        return "No one";
              }

          }
      }

      /* function game(playerSelection) {
          let playerScore = 0;
          let computerScore = 0;

          for (i=0; i<5; i++) {
            // make it best of 5 or first to 3
            if (computerScore === 3 || playerScore === 3 ) {
                break;
            } else {
                let computerSelection = computerPlay();
                
                //let playerSelection = prompt("Best of 5. Round " + (i+1) + ". Rock, paper, or scissors?");

                //playerSelection = playerSelection.toLowerCase();

                console.log("Round " + (i + 1) + ": The computer chose " + computerSelection + ". You chose " + playerSelection + ".");

                if (playerSelection === "rock" || playerSelection === "paper" || playerSelection === "scissors" ) {
                    winner = playRound(playerSelection, computerSelection);
                    if (winner == 1) {
                        playerScore = playerScore + 1;
                    } else if (winner == -1) {
                        computerScore = computerScore + 1;
                    } else {
                        // play again because of tie
                        i = i - 1;
                    }
                } else {
                    console.log("Sorry that is not a valid play. Try again.")
                    // play again because invalid input
                    i = i - 1;
                }
            }
          }

          if (playerScore >= 3) {
              console.log("You win the game! You were the first to win 3!")
          } else {
              console.log("You lost the game. The computer won 3 rounds first.")
          }
      } */


  </script>
</body>
</html>